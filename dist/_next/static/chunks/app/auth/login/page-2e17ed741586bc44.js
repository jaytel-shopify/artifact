(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{626:(e,t,r)=>{"use strict";async function a(){return window.quick?window.quick:new Promise(e=>{let t=()=>{window.quick?e(window.quick):setTimeout(t,100)};t()})}r.d(t,{yv:()=>a})},2872:(e,t,r)=>{Promise.resolve().then(r.bind(r,3347))},3347:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(8045),s=r(6198),n=r(3713),i=r(5177),c=r(5070);function l(){let{user:e,loading:t,isAuthenticated:r}=(0,s.A)(),l=(0,c.useRouter)();return((0,i.useEffect)(()=>{r&&e&&!t&&l.push("/projects")},[e,t,r,l]),t)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Welcome to Artifact"}),(0,a.jsx)(n.BT,{children:"Authenticating with Quick..."})]}),(0,a.jsx)(n.Wu,{className:"flex justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 dark:border-gray-100"})})]})}):e?null:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Welcome to Artifact"}),(0,a.jsx)(n.BT,{children:"Quick platform handles authentication automatically for Shopify employees"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("p",{children:"If you're not automatically authenticated, please ensure:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,a.jsx)("li",{children:"You're accessing this site from a Shopify network"}),(0,a.jsx)("li",{children:"You're logged into your Shopify Google account"}),(0,a.jsx)("li",{children:"The Quick SDK is properly loaded"})]})]}),(0,a.jsx)("div",{className:"flex justify-center py-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100"})})]})]})})}},3713:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>i,wL:()=>d});var a=r(8045);r(5177);var s=r(6816);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},5070:(e,t,r)=>{"use strict";var a=r(418);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6198:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>c});var a=r(8045),s=r(5177),n=r(626);let i=(0,s.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,s.useState)(null),[l,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=!0;return async function(){try{let t=await (0,n.yv)(),r=await t.id.waitForUser();console.log("Quick user loaded:",r),e&&(c({email:r.email,fullName:r.fullName,firstName:r.firstName,slackHandle:r.slackHandle,slackId:r.slackId,slackImageUrl:r.slackImageUrl,title:r.title,github:r.github}),o(!1))}catch(t){console.error("Failed to load Quick user:",t),e&&o(!1)}}(),()=>{e=!1}},[]),(0,a.jsx)(i.Provider,{value:{user:r,loading:l,isAuthenticated:!!r,signIn:async()=>{window.location.reload()},signOut:async()=>{console.warn("Sign out is handled by Quick platform - redirect to logout if needed")}},children:t})}function l(){let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},6816:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2207),s=r(1251);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{e.O(0,[685,986,143,358],()=>e(e.s=2872)),_N_E=e.O()}]);